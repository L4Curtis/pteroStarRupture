{
  "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PANEL",
  "meta": {
    "version": "PLCN_v1",
    "update_url": null
  },
  "exported_at": "2026-01-12T23:30:00+01:00",
  "name": "StarRupture Dedicated Server (SteamCMD)",
  "author": "curtis",
  "description": "StarRupture Dedicated Server installed via SteamCMD (AppID 3809400) and started with official launch parameters using Wine. Pelican compatible.",
  "features": [
    "steam_disk_space"
  ],
  "docker_images": {
    "Wine + SteamCMD": "ghcr.io/parkervcp/yolks:wine_staging"
  },
  "file_denylist": [],
  "startup": "bash -lc 'cd /home/container || exit 1\n\nexport HOME=/home/container\nexport WINEPREFIX=/home/container/.wine\nexport WINEDEBUG=-all\n\nmkdir -p \"$WINEPREFIX\"\n\n# First Wine init\nif [ ! -f \"$WINEPREFIX/.init_done\" ]; then\n  echo \"[SR] Initializing Wine\"\n  wineboot -u || true\n  touch \"$WINEPREFIX/.init_done\"\nfi\n\n# Locate server binary (official name)\nSERVER_EXE=\"./StarRuptureServerEOS.exe\"\nif [ ! -f \"$SERVER_EXE\" ]; then\n  SERVER_EXE=\"$(find . -maxdepth 3 -type f -iname 'StarRuptureServerEOS.exe' | head -n 1)\"\nfi\n\nif [ -z \"$SERVER_EXE\" ] || [ ! -f \"$SERVER_EXE\" ]; then\n  echo \"[SR] ERROR: StarRuptureServerEOS.exe not found\"\n  ls -la\n  exit 1\nfi\n\n# Build official arguments\nARGS=\"-Log -Port=${SERVER_PORT} -QueryPort=${QUERY_PORT} -ServerName=\\\"${SERVER_NAME}\\\"\"\n[ -n \"${MULTIHOME}\" ] && ARGS=\"$ARGS -MULTIHOME=${MULTIHOME}\"\n[ -n \"${MAX_PLAYERS}\" ] && ARGS=\"$ARGS -MaxPlayers=${MAX_PLAYERS}\"\n\necho \"[SR] Starting server: $SERVER_EXE $ARGS\"\n\nwine \"$SERVER_EXE\" $ARGS'",
  "config": {
    "files": "{}",
    "startup": "{\n  \"done\": \"Starting StarRupture\"\n}",
    "logs": "{}",
    "stop": "^C"
  },
  "scripts": {
    "installation": {
      "script": "#!/bin/bash\nset -e\n\nAPPID=3809400\n\nmkdir -p /mnt/server/steamcmd\ncd /mnt/server/steamcmd\n\n# Download SteamCMD\ncurl -sSL -o steamcmd_linux.tar.gz https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz\ntar -xzf steamcmd_linux.tar.gz\n\nmkdir -p /mnt/server/steamapps\n\n# Install StarRupture Dedicated Server (Windows)\n./steamcmd.sh \\\n  +@ShutdownOnFailedCommand 1 \\\n  +@NoPromptForPassword 1 \\\n  +@sSteamCmdForcePlatformType windows \\\n  +force_install_dir /mnt/server \\\n  +login anonymous \\\n  +app_update ${APPID} validate \\\n  +quit\n\n# Validate install\nif [ ! -f \"/mnt/server/StarRuptureServerEOS.exe\" ]; then\n  echo \"[SR] ERROR: StarRuptureServerEOS.exe not found after install\"\n  find /mnt/server -type f\n  exit 1\nfi\n\necho \"[SR] StarRupture installation complete\"",
      "container": "ghcr.io/parkervcp/installers:debian",
      "entrypoint": "bash"
    }
  },
  "variables": [
    {
      "name": "Server Name",
      "description": "Server name shown in the in-game server list",
      "env_variable": "SERVER_NAME",
      "default_value": "My Starrupture Server",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["required", "string", "max:128"],
      "sort": 1
    },
    {
      "name": "Query Port",
      "description": "Steam query port (UDP)",
      "env_variable": "QUERY_PORT",
      "default_value": "27015",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["required", "integer", "min:1025", "max:65535"],
      "sort": 2
    },
    {
      "name": "MultiHome",
      "description": "Bind server to a specific IP address (-MULTIHOME)",
      "env_variable": "MULTIHOME",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["nullable", "string", "max:64"],
      "sort": 3
    },
    {
      "name": "Max Players",
      "description": "Maximum number of players (-MaxPlayers)",
      "env_variable": "MAX_PLAYERS",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": ["nullable", "integer", "min:1", "max:200"],
      "sort": 4
    }
  ]
}
